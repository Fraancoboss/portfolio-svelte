import{y as Q,g as re,a1 as W,F as V,z as M,A as ne,a2 as se,h as U,M as le,a3 as ie,a4 as fe,a5 as X,D as Y,G as b,C as te,a6 as ue,a7 as G,a8 as ve,a9 as L,aa as q,ab as de,ac as K,ad as _e,J as P,ae as Z,af as ce,ag as $,ah as oe,ai as he,aj as y,q as pe,ak as k,al as me,B as Ee,am as Ae,an as Te,ao as Ie,I as Ne}from"./AQeiAKmB.js";function Se(r,n){return n}function Ce(r,n,e){for(var i=r.items,d=[],u=n.length,f=0;f<u;f++)Ae(n[f].e,d,!0);var _=u>0&&d.length===0&&e!==null;if(_){var A=e.parentNode;Te(A),A.append(e),i.clear(),C(r,n[0].prev,n[u-1].next)}Ie(d,()=>{for(var E=0;E<u;E++){var o=n[E];_||(i.delete(o.k),C(r,o.prev,o.next)),k(o.e,!_)}})}function xe(r,n,e,i,d,u=null){var f=r,_={flags:n,items:new Map,first:null},A=(n&W)!==0;if(A){var E=r;f=M?V(ne(E)):E.appendChild(Q())}M&&se();var o=null,D=!1,T=new Map,S=le(()=>{var c=e();return ce(c)?c:c==null?[]:Z(c)}),s,v;function t(){we(v,s,_,T,f,d,n,i,e),u!==null&&(s.length===0?o?$(o):o=G(()=>u(f)):o!==null&&oe(o,()=>{o=null}))}re(()=>{v??=Ne,s=U(S);var c=s.length;if(D&&c===0)return;D=c===0;let m=!1;if(M){var I=ie(f)===fe;I!==(c===0)&&(f=X(),V(f),Y(!1),m=!0)}if(M){for(var w=null,h,a=0;a<c;a++){if(b.nodeType===te&&b.data===ue){f=b,m=!0,Y(!1);break}var l=s[a],p=i(l,a);h=J(b,_,w,null,l,p,a,d,n,e),_.items.set(p,h),w=h}c>0&&V(X())}if(M)c===0&&u&&(o=G(()=>u(f)));else if(ve()){var H=new Set,O=de;for(a=0;a<c;a+=1){l=s[a],p=i(l,a);var x=_.items.get(p)??T.get(p);x?(n&(L|q))!==0&&j(x,l,a,n):(h=J(null,_,null,null,l,p,a,d,n,e,!0),T.set(p,h)),H.add(p)}for(const[N,g]of _.items)H.has(N)||O.skipped_effects.add(g.e);O.oncommit(t)}else t();m&&Y(!0),U(S)}),M&&(f=b)}function we(r,n,e,i,d,u,f,_,A){var E=(f&me)!==0,o=(f&(L|q))!==0,D=n.length,T=e.items,S=e.first,s=S,v,t=null,c,m=[],I=[],w,h,a,l;if(E)for(l=0;l<D;l+=1)w=n[l],h=_(w,l),a=T.get(h),a!==void 0&&(a.a?.measure(),(c??=new Set).add(a));for(l=0;l<D;l+=1){if(w=n[l],h=_(w,l),a=T.get(h),a===void 0){var p=i.get(h);if(p!==void 0){i.delete(h),T.set(h,p);var H=t?t.next:s;C(e,t,p),C(e,p,H),z(p,H,d),t=p}else{var O=s?s.e.nodes_start:d;t=J(O,e,t,t===null?e.first:t.next,w,h,l,u,f,A)}T.set(h,t),m=[],I=[],s=t.next;continue}if(o&&j(a,w,l,f),(a.e.f&y)!==0&&($(a.e),E&&(a.a?.unfix(),(c??=new Set).delete(a))),a!==s){if(v!==void 0&&v.has(a)){if(m.length<I.length){var x=I[0],N;t=x.prev;var g=m[0],B=m[m.length-1];for(N=0;N<m.length;N+=1)z(m[N],x,d);for(N=0;N<I.length;N+=1)v.delete(I[N]);C(e,g.prev,B.next),C(e,t,g),C(e,B,x),s=x,t=B,l-=1,m=[],I=[]}else v.delete(a),z(a,s,d),C(e,a.prev,a.next),C(e,a,t===null?e.first:t.next),C(e,t,a),t=a;continue}for(m=[],I=[];s!==null&&s.k!==h;)(s.e.f&y)===0&&(v??=new Set).add(s),I.push(s),s=s.next;if(s===null)continue;a=s}m.push(a),t=a,s=a.next}if(s!==null||v!==void 0){for(var R=v===void 0?[]:Z(v);s!==null;)(s.e.f&y)===0&&R.push(s),s=s.next;var F=R.length;if(F>0){var ee=(f&W)!==0&&D===0?d:null;if(E){for(l=0;l<F;l+=1)R[l].a?.measure();for(l=0;l<F;l+=1)R[l].a?.fix()}Ce(e,R,ee)}}E&&pe(()=>{if(c!==void 0)for(a of c)a.a?.apply()}),r.first=e.first&&e.first.e,r.last=t&&t.e;for(var ae of i.values())k(ae.e);i.clear()}function j(r,n,e,i){(i&L)!==0&&K(r.v,n),(i&q)!==0?K(r.i,e):r.i=e}function J(r,n,e,i,d,u,f,_,A,E,o){var D=(A&L)!==0,T=(A&he)===0,S=D?T?_e(d,!1,!1):P(d):d,s=(A&q)===0?f:P(f),v={i:s,v:S,k:u,a:null,e:null,prev:e,next:i};try{if(r===null){var t=document.createDocumentFragment();t.append(r=Q())}return v.e=G(()=>_(r,S,s,E),M),v.e.prev=e&&e.e,v.e.next=i&&i.e,e===null?o||(n.first=v):(e.next=v,e.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function z(r,n,e){for(var i=r.next?r.next.e.nodes_start:e,d=n?n.e.nodes_start:e,u=r.e.nodes_start;u!==null&&u!==i;){var f=Ee(u);d.before(u),u=f}}function C(r,n,e){n===null?r.first=e:(n.next=e,n.e.next=e&&e.e),e!==null&&(e.prev=n,e.e.prev=n&&n.e)}function Me(r,n,e){var i=r==null?"":""+r;return i===""?null:i}function He(r,n){return r==null?null:String(r)}function Re(r,n,e,i,d,u){var f=r.__className;if(M||f!==e||f===void 0){var _=Me(e);(!M||_!==r.getAttribute("class"))&&(_==null?r.removeAttribute("class"):r.className=_),r.__className=e}return u}export{xe as e,Se as i,Re as s,He as t};
